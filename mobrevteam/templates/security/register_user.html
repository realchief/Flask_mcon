<!DOCTYPE html>
<html lang="en">

  <head>
<link rel="apple-touch-icon" sizes="180x180"
href="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32"
href="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16"
href="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/favicon-16x16.png">
<link rel="manifest"
href="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/manifest.json">
<link rel="mask-icon"
href="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/safari-pinned-tab.svg"
color="#5bbad5">
<link rel="shortcut icon"
href="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/favicon.ico">
<meta name="msapplication-config"
content="https://s3-us-west-2.amazonaws.com/jestflix-production/video_camera_favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>JestFlix - Watch Movies Online, Watch TV Shows Online</title>


    <!-- Custom styles for this template -->
<style>
body {
  height:100%;
  background:
  url('https://s3-us-west-2.amazonaws.com/jestflix-production/login_backsplash.jpg') no-repeat center center fixed;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
  -o-background-size: cover;
}

#submit {
  background: #d93434;
  background-image: -webkit-linear-gradient(top, #d93434, #b82b2b);
  background-image: -moz-linear-gradient(top, #d93434, #b82b2b);
  background-image: -ms-linear-gradient(top, #d93434, #b82b2b);
  background-image: -o-linear-gradient(top, #d93434, #b82b2b);
  background-image: linear-gradient(to bottom, #d93434, #b82b2b);
  -webkit-border-radius: 28;
  -moz-border-radius: 28;
  border-radius: 28px;
  font-family: Arial;
  color: #ffffff;
  font-size: 20px;
  padding: 10px 20px 10px 20px;
  text-decoration: none;
}

#submit:hover {
  background: #fc3c3c;
  background-image: -webkit-linear-gradient(top, #fc3c3c, #d93434);
  background-image: -moz-linear-gradient(top, #fc3c3c, #d93434);
  background-image: -ms-linear-gradient(top, #fc3c3c, #d93434);
  background-image: -o-linear-gradient(top, #fc3c3c, #d93434);
  background-image: linear-gradient(to bottom, #fc3c3c, #d93434);
  text-decoration: none;
}
</style>
  </head>

<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js">
</script>
</head>
  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
      <div class="container">
        <a class="navbar-brand" href="#">JestFlix</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for_security('login') }}">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for_security('register') }}">Register</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/reset">Reset Password</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <section>
      <div class="container" style="margin-bottom:200px;">
        <div class="row">
        <div style="background-color:#dcdcdc; margin:5% 5% 0 5%; border-radius:30px; text-align:center" class="col-lg-6">
        <img style="width:50%; margin-top:20px; margin-bottom:0px;"
        src="https://s3-us-west-2.amazonaws.com/jestflix-production/JestFlix-Logo-Final-Compressed-Cropped.png"></img>
        {% from "security/_macros.html" import render_field_with_errors, render_field %}
        {% include "security/_messages.html" %}
        <h4>{{ _('Watch Unlimited Videos') }}</h4>
        <h5>{{ _('Free Trial - Start Now!') }}</h5>
        <form action="{{ url_for_security('register') }}" method="POST" name="register_user_form">
          {{ register_user_form.hidden_tag() }}
          <div style="text-align:center;">
          {{ render_field_with_errors(register_user_form.email) }}
          {{ render_field_with_errors(register_user_form.password) }}
          {% if register_user_form.password_confirm %}
            {{ render_field_with_errors(register_user_form.password_confirm) }}
          {% endif %}
          </div>
          {{ render_field(register_user_form.submit) }}
        </form> 
          </div>
        </div>
      </div>
    </section>
<script>
function getAllUrlParams(url) {

  // get query string from url (optional) or window
  var queryString = url ? url.split('?')[1] : window.location.search.slice(1);

  // we'll store the parameters here
  var obj = {};

  // if query string exists
  if (queryString) {

    // stuff after # is not part of query string, so get rid of it
    queryString = queryString.split('#')[0];

    // split our query string into its component parts
    var arr = queryString.split('&');

    for (var i=0; i<arr.length; i++) {
      // separate the keys and the values
      var a = arr[i].split('=');

      // in case params look like: list[]=thing1&list[]=thing2
      var paramNum = undefined;
      var paramName = a[0].replace(/\[\d*\]/, function(v) {
        paramNum = v.slice(1,-1);
        return '';
      });

      // set parameter value (use 'true' if empty)
      var paramValue = typeof(a[1])==='undefined' ? true : a[1];

      // (optional) keep case consistent
      paramName = paramName.toLowerCase();
      paramValue = paramValue.toLowerCase();

      // if parameter name already exists
      if (obj[paramName]) {
        // convert value to array (if still string)
        if (typeof obj[paramName] === 'string') {
          obj[paramName] = [obj[paramName]];
        }
        // if no array index number specified...
        if (typeof paramNum === 'undefined') {
          // put the value on the end of the array
          obj[paramName].push(paramValue);
        }
        // if array index number specified...
        else {
          // put the value at that index number
          obj[paramName][paramNum] = paramValue;
        }
      }
      // if param name doesn't exist yet, set it
      else {
        obj[paramName] = paramValue;
      }
    }
  }

  return obj;
}
</script>

<script>
function setcookie(name, value, days)
{
  if (days)
  {
    var date = new Date();
    date.setTime(date.getTime()+days*24*60*60*1000); // ) removed
    var expires = "; expires=" + date.toGMTString(); // + added
  }
  else
    var expires = "";
  document.cookie = name+"=" + value+expires + ";path=/"; // + and " added
}
</script>

<script>
function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
</script>

<script>
  // Store TID as a cookie and then retrieve it on the server side with the requests and generate postback there
  var tid = getAllUrlParams().tid;
  var existing_cookie = getCookie('trackingid');
  if (existing_cookie){	
  setcookie('trackingid', existing_cookie, 30);
	} else {
  setcookie('trackingid', tid, 30);
  }
</script>
<script>
$('label[for=email]').remove();
$('label[for=password]').remove();
$('label[for=password_confirm]').remove();
$("#email").attr("placeholder", "Email Address");
$("#password").attr("placeholder", "Password");
$("#password_confirm").attr("placeholder", "Confirm Password");
$("#submit").attr("value", "Register Now!");

</script>


  </body>

</html>
